<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>Go语言基础之流程控制 | JIAJIA</title>
<meta name="description" content="温故而知新">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://jiajiaba.github.io/favicon.ico?v=1567652179847">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://jiajiaba.github.io/styles/main.css">


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  


<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />



  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://jiajiaba.github.io">
        <img src="https://jiajiaba.github.io/images/avatar.png?v=1567652179847" class="site-logo">
        <h1 class="site-title">JIAJIA</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            关于
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      温故而知新
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://jiajiaba.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">Go语言基础之流程控制</h2>
            <div class="post-date">2019-09-02</div>
            
              <div class="feature-container" style="background-image: url('https://jiajiaba.github.io/post-images/liuchengkongzhi.png')">
              </div>
            
            <div class="post-content">
              <p>Go语言中最常用的流程控制有if和for<br>
switch和goto主要是为了简化代码、降低重复代码而生的结构，属于扩展类的流程控制。</p>
 <!-- more -->
<h3 id="colorredifelse分支结构"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mstyle mathcolor="red"><mrow><mi>i</mi><mi>f</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi>e</mi><mi>l</mi><mi>s</mi><mi>e</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>(</mo><mi mathvariant="normal">分</mi><mi mathvariant="normal">支</mi><mi mathvariant="normal">结</mi><mi mathvariant="normal">构</mi><mo>)</mo></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{red}{if..else..(分支结构)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord" style="color:red;"><span class="mord mathdefault" style="color:red;">i</span><span class="mord mathdefault" style="margin-right:0.10764em;color:red;">f</span><span class="mord" style="color:red;">.</span><span class="mord" style="color:red;">.</span><span class="mord mathdefault" style="color:red;">e</span><span class="mord mathdefault" style="margin-right:0.01968em;color:red;">l</span><span class="mord mathdefault" style="color:red;">s</span><span class="mord mathdefault" style="color:red;">e</span><span class="mord" style="color:red;">.</span><span class="mord" style="color:red;">.</span><span class="mopen" style="color:red;">(</span><span class="mord cjk_fallback" style="color:red;">分</span><span class="mord cjk_fallback" style="color:red;">支</span><span class="mord cjk_fallback" style="color:red;">结</span><span class="mord cjk_fallback" style="color:red;">构</span><span class="mclose" style="color:red;">)</span></span></span></span></span></h3>
<p>if基本使用格式：</p>
<pre><code class="language-Go">if 表达式1 {
    分支1
} else if 表达式2 {
    分支2
} else{
    分支3
}
</code></pre>
<pre><code class="language-!/usr/bin/env">package main
import &quot;fmt&quot;
func main() {
	a:=10
	if a == 20 {
		fmt.Println(&quot;a == 10&quot;)
	} else {
		fmt.Println(&quot;a != 10&quot;)
	}
}
</code></pre>
<p>注意：Go语言规定与if匹配的左括号{必须与if和表达式放在同一行，否则编译错误。</p>
<pre><code class="language-!/usr/bin/env">package main
import &quot;fmt&quot;
func main() {
	if a := 10; a == 20 {
		fmt.Println(&quot;a == 10&quot;)
	} else {
		fmt.Println(&quot;a != 10&quot;)
	}
}
</code></pre>
<p>另外，if语句还支持初始化语句，初始化条件和判断条件以分号分隔。但是需要注意的是，例子中a这个变量只在if语句块里面生效。</p>
<h3 id="colorredfor循环结构"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mstyle mathcolor="red"><mrow><mi>f</mi><mi>o</mi><mi>r</mi><mo>(</mo><mi mathvariant="normal">循</mi><mi mathvariant="normal">环</mi><mi mathvariant="normal">结</mi><mi mathvariant="normal">构</mi><mo>)</mo></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{red}{for(循环结构)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord" style="color:red;"><span class="mord mathdefault" style="margin-right:0.10764em;color:red;">f</span><span class="mord mathdefault" style="color:red;">o</span><span class="mord mathdefault" style="margin-right:0.02778em;color:red;">r</span><span class="mopen" style="color:red;">(</span><span class="mord cjk_fallback" style="color:red;">循</span><span class="mord cjk_fallback" style="color:red;">环</span><span class="mord cjk_fallback" style="color:red;">结</span><span class="mord cjk_fallback" style="color:red;">构</span><span class="mclose" style="color:red;">)</span></span></span></span></span></h3>
<p>for基本使用格式</p>
<pre><code>for 初始语句;条件表达式;结束语句{
			循环体语句
}
</code></pre>
<pre><code class="language-/usr/bin/env">func main() {
	for i := 0; i &lt; 10; i++ {
		fmt.Println(i)
	}
}
</code></pre>
<h3 id="其他特殊写法">其他特殊写法</h3>
<p>for循环的初始语句可以被忽略，但是初始语句后的分号必须要写，例如：</p>
<pre><code class="language-/usr/bin/env">func main() {
	i := 0
	for ; i &lt; 10; i++ {
		fmt.Println(i)
	}
}
</code></pre>
<p>for循环的初始语句和结束语句都可以省略，例如：</p>
<pre><code class="language-/usr/bin/env">func main() {
	i := 0
	for i &lt; 10 {
		fmt.Println(i)
	}
}
</code></pre>
<p>无限循环，例如：</p>
<pre><code class="language-/usr/bin/env">for {
	循环语句体
}
</code></pre>
<p>for range (键值循环)使用，例如:</p>
<pre><code class="language-/usr/bin/env">func main() {
	str := &quot;abc&quot;
	for i, data := range str {
		fmt.Printf(&quot;str[%d] = %c\n&quot;, i, data)
	}

	for i := range str { //第二个返回值默认丢弃，返回元素的位置（下标）
		fmt.Printf(&quot;str[%d] = %c\n&quot;, i, str[i])
	}

	for i, _ := range str { //第二个返回值默认丢弃，返回元素的位置（下标）
		fmt.Printf(&quot;str[%d] = %c\n&quot;, i, str[i])
	}
}
</code></pre>
<h3 id="colorredswitchcase"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mstyle mathcolor="red"><mrow><mi>s</mi><mi>w</mi><mi>i</mi><mi>t</mi><mi>c</mi><mi>h</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi>c</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{red}{switch..case..}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord" style="color:red;"><span class="mord mathdefault" style="color:red;">s</span><span class="mord mathdefault" style="margin-right:0.02691em;color:red;">w</span><span class="mord mathdefault" style="color:red;">i</span><span class="mord mathdefault" style="color:red;">t</span><span class="mord mathdefault" style="color:red;">c</span><span class="mord mathdefault" style="color:red;">h</span><span class="mord" style="color:red;">.</span><span class="mord" style="color:red;">.</span><span class="mord mathdefault" style="color:red;">c</span><span class="mord mathdefault" style="color:red;">a</span><span class="mord mathdefault" style="color:red;">s</span><span class="mord mathdefault" style="color:red;">e</span><span class="mord" style="color:red;">.</span><span class="mord" style="color:red;">.</span></span></span></span></span></h3>
<pre><code class="language-/usr/bin/env">func main() {
	a := 3
	switch a {
	case 1:
		fmt.Println(&quot;First&quot;)
	case 2:
		fmt.Println(&quot;Second&quot;)
	default:
		fmt.Println(&quot;xxx&quot;)
	}
}
</code></pre>
<p>一个分支可以有多个值，多个case值中间使用英文逗号分隔。</p>
<pre><code class="language-/usr/bin/env">func main() {
	switch n := 7; n {
	case 1, 3, 5, 7, 9:
		fmt.Println(&quot;奇数&quot;)
	case 2, 4, 6, 8:
		fmt.Println(&quot;偶数&quot;)
	default:
		fmt.Println(n)
	}
}
</code></pre>
<p>fallthrough语法可以执行满足条件的case的下一个case，是为了兼容C语言中的case设计的.</p>
<pre><code class="language-/usr/bin/env">func main() {
	s := &quot;a&quot;
	switch {
	case s == &quot;a&quot;:
		fmt.Println(&quot;a&quot;)
		fallthrough
	case s == &quot;b&quot;:
		fmt.Println(&quot;b&quot;)
	case s == &quot;c&quot;:
		fmt.Println(&quot;c&quot;)
	default:
		fmt.Println(&quot;...&quot;)
	}
}
</code></pre>
<h3 id="colorredgoto跳转到指定标签"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mstyle mathcolor="red"><mrow><mi>g</mi><mi>o</mi><mi>t</mi><mi>o</mi><mo>(</mo><mi mathvariant="normal">跳</mi><mi mathvariant="normal">转</mi><mi mathvariant="normal">到</mi><mi mathvariant="normal">指</mi><mi mathvariant="normal">定</mi><mi mathvariant="normal">标</mi><mi mathvariant="normal">签</mi><mo>)</mo></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{red}{goto(跳转到指定标签)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord" style="color:red;"><span class="mord mathdefault" style="margin-right:0.03588em;color:red;">g</span><span class="mord mathdefault" style="color:red;">o</span><span class="mord mathdefault" style="color:red;">t</span><span class="mord mathdefault" style="color:red;">o</span><span class="mopen" style="color:red;">(</span><span class="mord cjk_fallback" style="color:red;">跳</span><span class="mord cjk_fallback" style="color:red;">转</span><span class="mord cjk_fallback" style="color:red;">到</span><span class="mord cjk_fallback" style="color:red;">指</span><span class="mord cjk_fallback" style="color:red;">定</span><span class="mord cjk_fallback" style="color:red;">标</span><span class="mord cjk_fallback" style="color:red;">签</span><span class="mclose" style="color:red;">)</span></span></span></span></span></h3>
<pre><code class="language-/usr/bin/env">func main() {
	fmt.Println(&quot;111&quot;)

	goto End //goto 是关键字。End是用户起的名字，叫做标签

	fmt.Println(&quot;222&quot;)

End:
	fmt.Println(&quot;333&quot;)
}
</code></pre>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://jiajiaba.github.io/tag/AuSlUrRyP" class="tag">
                    Go
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://jiajiaba.github.io/post/iota">
                  <h3 class="post-title">
                    Go语言基础之iota
                  </h3>
                </a>
              </div>
            

            
              
                <div id="gitalk-container" data-aos="fade-in"></div>
              

              
            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>



  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: 'ddea2cdc460d0967693e',
        clientSecret: 'dd260d8246709a16d4e788d2b03396a25bb2115c',
        repo: 'jiajiaba.github.io',
        owner: 'jiajiaba',
        admin: ['jiajiaba'],
        id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  




  </body>
</html>
